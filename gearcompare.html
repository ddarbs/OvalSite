<html><head>
  <!-- Standard Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  
  <!-- start of scripts section --> 
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css">
<script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.js"></script>
    <script src="http://d3js.org/d3.v4.js"></script>
<!-- start of rextester API for R -->
  <script>
  $(function(){
      $("#header").load("https://raw.githubusercontent.com/iKrazy/OvalSite/main/assets/html/header.html");
	  $("#footer").load("https://raw.githubusercontent.com/iKrazy/OvalSite/main/assets/html/footer.html");	  
    });

     window.onload = function()
        {
        d3.csv("https://raw.githubusercontent.com/iKrazy/OvalSite/main/assets/mh1/gearlisttest.csv",

            function(d) {
                return {

                    TPC: +d.ItemID,
                    Subcategory: d.ItemName,


                };  
            },      
            function(data) {
                <!-- console.log(data) -->
                populate_ComboExample(data)
            });
        }

        function populate_ComboExample(data) {

            var example_list= {};
            var example_text= {};

            <!-- console.log(data.length) -->
            for (i=0;i<data.length; i++ ) { // you can calculate the length with js, I choose 10 here for the example
                example_list[i]=data[i].TPC;	
                example_text[i]=data[i].Subcategory;
            }


            var select  = document.getElementById("weaponinput")
			

            for (i=0; i < data.length; i++ ) {
                var el = document.createElement("option");
                var temp=example_text[i]
                el.textContent = temp;
                el.value =example_list[i];
                select.appendChild(el);
            }
        }

        function combo_change(thelist) {

            var idx_1 = thelist.selectedIndex;
            var itemid = thelist.options[idx_1].value;	// item ID
			var itemname = thelist.options[idx_1+1].value;	// item name
			var meleedef = thelist.options[idx_1+2].value;	// melee def
			var rangdef = thelist.options[idx_1+3].value;	// rang def
			var psydef = thelist.options[4].value;	// psy def
			var meleeacc = thelist.options[5].value;	// melee acc
			var rangacc = thelist.options[6].value;	// rang acc
			var psyacc = thelist.options[7].value;	// psy acc
			var mindmg = thelist.options[8].value;	// min dmg
			var maxdmg = thelist.options[9].value;	// max dmg
			var tickspeed = thelist.options[10].value;	// tickspeed
			var range = thelist.options[11].value;	// range
			var levelreq = thelist.options[12].value;	// level req
			var skilllvlreq = thelist.options[13].value;	// skill use lvl req
			var craftlvlreq = thelist.options[14].value;	// craft lvl req
			var heals = thelist.options[15].value;	// heals
			var destroxp = thelist.options[16].value;	// destro xp
			var alchvalue = thelist.options[17].value;	// alch value
			
			document.getElementById("itemid").value = itemid
			document.getElementById("itemname").value = itemname
			document.getElementById("meleedef").value = meleedef
			document.getElementById("rangdef").value = rangdef
			document.getElementById("psydef").value = psydef
			document.getElementById("meleeacc").value = meleeacc
			document.getElementById("rangacc").value = rangacc
			document.getElementById("psyacc").value = psyacc
			document.getElementById("mindmg").value = mindmg
			document.getElementById("maxdmg").value = maxdmg
			document.getElementById("tickspeed").value = tickspeed
			document.getElementById("range").value = range
			document.getElementById("levelreq").value = levelreq
			document.getElementById("skilllvlreq").value = skilllvlreq
			document.getElementById("craftlvlreq").value = craftlvlreq
			document.getElementById("heals").value = heals
			document.getElementById("destroxp").value = destroxp
			document.getElementById("alchvalue").value = alchvalue
        }


	</script>
	<!-- end of rextester API for R -->
  <!-- end of scripts section --> 
  
  <!-- start of extra style section -->
<link rel="stylesheet" type="text/css" href="assets/css/allpages.css">

  <style type="text/css">
  <!-- start of page specific styling -->
.main.container {
	min-height: 100%;
}
  <!-- end of page specific styling -->
  </style>
  <!-- end of extra style section -->
  <title>DTS - Combat Calc</title>
</head>
<body>
<!-- start of navbar header section -->
<div id="header"></div>
<!-- end of navbar header section -->
<!-- start of main body section --> 
<div class="ui inverted segment">
  <div class="ui main text container" style="text-align:center; vertical-align:middle; min-height: 0;">
    <h1 class="ui inverted header">mh1's Gear Simulator broken af</h1>
    <p>"when is this going to be done" -gooby I bet</p>
    <p>yee haw there's a snake in my boot</p>
    <div class="ui inverted horizontal section divider">e</div>
	<div class="ui centered grid">
	</div>
  </div>

  <div class="ui two column grid">
  <div class="ui main text container">
	<input type="text" id="itemid">itemid
	<input type="text" id="itemname">itemname
	<input type="text" id="meleedef">meleedef
	<input type="text" id="rangdef">rangdef
	<input type="text" id="psydef">psydef
	<input type="text" id="meleeacc">meleeacc
	<input type="text" id="rangacc">rangacc
	<input type="text" id="psyacc">psyacc
	<input type="text" id="mindmg">mindmg
	<input type="text" id="maxdmg">maxdmg
	<input type="text" id="tickspeed">tickspeed
	<input type="text" id="range">range
	<input type="text" id="levelreq">levelreq
	<input type="text" id="skilllvlreq">
	<input type="text" id="craftlvlreq">
	<input type="text" id="heals">
	<input type="text" id="destroxp">
	<input type="text" id="alchvalue">
	</div>
  <div class="ui main text container" id="option">


    <form class="comboExample">
    <h4>Subcategory</h4>
    <select class="ui search selection dropdown" name="example_select" id="weaponinput" onChange="combo_change(this)">
	<select class="ui search selection dropdown" name="example_select" id="weaponinput" onChange="combo_change(this)">
    </select> 
    </form>

  </div>
 </div>
</div>
<!-- end of main body section --> 
<!-- start of end footer section --> 
<div id="footer"></div>
<!-- end of end footer section --> 
</body></html>